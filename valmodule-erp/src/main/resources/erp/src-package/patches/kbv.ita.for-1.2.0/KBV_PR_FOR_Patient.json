{"resourceType":"StructureDefinition","id":"KBV-PR-FOR-Patient","url":"https://fhir.kbv.de/StructureDefinition/KBV_PR_FOR_Patient","version":"1.2.0","name":"KBV_PR_FOR_Patient","status":"active","date":"2025-03-25","publisher":"Kassenärztliche Bundesvereinigung (KBV)","fhirVersion":"4.0.1","kind":"resource","abstract":false,"type":"Patient","baseDefinition":"https://fhir.kbv.de/StructureDefinition/KBV_PR_Base_Patient|1.7.0","derivation":"constraint","differential":{"element":[{"id":"Patient","path":"Patient","constraint":[{"key":"-for-adresszeilenAufbauPatientRessource-1","severity":"error","human":"Falls die erste Adresszeile einen Straßennamen und eine Hausnummer besitzt, sind diese zusammen im Element 'line' mit mindestens einem Leerzeichen getrennt anzugeben.","expression":"(address.line[0].extension('http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-houseNumber').exists() and address.line[0].extension('http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-streetName').exists()) implies (address.line[0].indexOf(%context.address.line[0].extension('http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-streetName').value as string)=0 and address.line[0].substring(%context.address.line[0].length()-(%context.address.line[0].extension('http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-houseNumber').value as string).length(), (%context.address.line[0].extension('http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-houseNumber').value as string).length()).matches(%context.address.line[0].extension('http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-houseNumber').value as string) and address.line[0].substring((%context.address.line[0].extension('http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-streetName').value as string).length(), %context.address.line[0].length()-(%context.address.line[0].extension('http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-streetName').value as string).length()-(%context.address.line[0].extension('http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-houseNumber').value as string).length()).matches('^ +$'))"},{"key":"-for-adresszeilenAufbauPatientRessource-2","severity":"error","human":"Falls die erste Adresszeile keinen Straßennamen und eine Hausnummer besitzt, ist letztere im Element 'line' anzugeben.","expression":"(address.line[0].extension('http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-houseNumber').exists() and address.line[0].extension('http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-streetName').exists().not()) implies address.line[0] = (address.line[0].extension('http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-houseNumber').value as string)"},{"key":"-for-adresszeilenAufbauPatientRessource-3","severity":"error","human":"Falls die erste Adresszeile keine Hausnummer und einen Straßennamen besitzt, ist letzterer im Element 'line' anzugeben.","expression":"(address.line[0].extension('http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-houseNumber').exists().not() and address.line[0].extension('http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-streetName').exists()) implies address.line[0] = (address.line[0].extension('http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-streetName').value as string)"},{"key":"-for-adresszeilenAufbauPatientRessource-4","severity":"error","human":"Falls eine Adresszeile einen Adresszusatz besitzt, ist dieser im Element 'line' anzugeben.","expression":"(address.line[0].extension('http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-additionalLocator').exists() implies address.line[0] = (address.line[0].extension('http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-additionalLocator').value as string)) and (address.line[1].extension('http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-additionalLocator').exists() implies address.line[1] = (address.line[1].extension('http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-additionalLocator').value as string))"},{"key":"-for-adresszeilenAufbauPatientRessource-5","severity":"error","human":"Falls die erste Adresszeile ein Postfach besitzt, ist dieses im Element 'line' anzugeben.","expression":"address.line[0].extension('http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-postBox').exists() implies address.line[0] = (address.line[0].extension('http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-postBox').value as string)"},{"key":"-for-adresszeilenAufbauPatientRessource-6","severity":"error","human":"Falls die erste Adresszeile einen Straßennamen oder eine Hausnummer besitzt, darf sie keinen Adresszusatz enthalten.","expression":"(address.line[0].extension('http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-houseNumber').exists() or address.line[0].extension('http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-streetName').exists()) implies address.line[0].extension('http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-additionalLocator').exists().not()"},{"key":"-for-adresszeilenAufbauPatientRessource-7","severity":"error","human":"Falls eine zweite Adresszeile existiert, darf sie weder einen Straßennamen oder eine Hausnummer enthalten und muss einen Adresszusatz enthalten.","expression":"address.line[1].exists() implies address.line[1].extension('http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-houseNumber').exists().not() and address.line[1].extension('http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-streetName').exists().not() and address.line[1].extension('http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-additionalLocator').exists()"},{"key":"-for-adresszeilenAufbauPatientRessource-8","severity":"error","human":"Falls eine zweite Adresszeile existiert, muss die erste Adresszeile einen Straßennamen oder eine Hausnummer enthalten und darf keinen Adresszusatz besitzen.","expression":"address.line[1].exists() implies ((address.line[0].extension('http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-houseNumber').exists() or address.line[0].extension('http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-streetName').exists()) and address.line[0].extension('http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-additionalLocator').exists().not())"}]},{"id":"Patient.id","path":"Patient.id","min":1,"mustSupport":true},{"id":"Patient.meta","path":"Patient.meta","min":1,"mustSupport":true},{"id":"Patient.meta.versionId","path":"Patient.meta.versionId","max":"0"},{"id":"Patient.meta.lastUpdated","path":"Patient.meta.lastUpdated","max":"0"},{"id":"Patient.meta.source","path":"Patient.meta.source","max":"0"},{"id":"Patient.meta.profile","path":"Patient.meta.profile","slicing":{"discriminator":[{"type":"value","path":"$this"}],"rules":"open"},"min":1,"mustSupport":true},{"id":"Patient.meta.profile:forProfile","path":"Patient.meta.profile","sliceName":"forProfile","min":1,"max":"1","fixedCanonical":"https://fhir.kbv.de/StructureDefinition/KBV_PR_FOR_Patient|1.2","mustSupport":true},{"id":"Patient.meta.security","path":"Patient.meta.security","max":"0"},{"id":"Patient.meta.tag","path":"Patient.meta.tag","max":"0"},{"id":"Patient.implicitRules","path":"Patient.implicitRules","max":"0"},{"id":"Patient.language","path":"Patient.language","max":"0"},{"id":"Patient.text","path":"Patient.text","max":"0"},{"id":"Patient.contained","path":"Patient.contained","max":"0"},{"id":"Patient.extension","path":"Patient.extension","slicing":{"discriminator":[{"type":"value","path":"url"}],"rules":"closed"},"max":"0"},{"id":"Patient.identifier","path":"Patient.identifier","slicing":{"discriminator":[{"type":"value","path":"type"}],"rules":"closed"},"max":"1","mustSupport":true},{"id":"Patient.identifier:pid","path":"Patient.identifier","sliceName":"pid","max":"0"},{"id":"Patient.identifier:pid.system","path":"Patient.identifier.system","fixedUri":"PID"},{"id":"Patient.identifier:versichertenId","path":"Patient.identifier","sliceName":"versichertenId","mustSupport":true},{"id":"Patient.identifier:versichertenId.type","path":"Patient.identifier.type","mustSupport":true},{"id":"Patient.identifier:versichertenId.type.coding","path":"Patient.identifier.type.coding","mustSupport":true},{"id":"Patient.identifier:versichertenId.type.coding.system","path":"Patient.identifier.type.coding.system","mustSupport":true},{"id":"Patient.identifier:versichertenId.type.coding.version","path":"Patient.identifier.type.coding.version","max":"0"},{"id":"Patient.identifier:versichertenId.type.coding.code","path":"Patient.identifier.type.coding.code","mustSupport":true},{"id":"Patient.identifier:versichertenId.type.coding.display","path":"Patient.identifier.type.coding.display","max":"0"},{"id":"Patient.identifier:versichertenId.type.coding.userSelected","path":"Patient.identifier.type.coding.userSelected","max":"0"},{"id":"Patient.identifier:versichertenId.type.text","path":"Patient.identifier.type.text","max":"0"},{"id":"Patient.identifier:versichertenId.system","path":"Patient.identifier.system","mustSupport":true},{"id":"Patient.identifier:versichertenId.value","path":"Patient.identifier.value","constraint":[{"key":"-for-laengeVersichertenId","severity":"error","human":"Der unveränderliche Teil der VersichertenId muss 10-stellig sein und mit einem Großbuchstaben anfangen.","expression":"true and  matches('^[A-Z][0-9]{9}$' )"}],"mustSupport":true},{"id":"Patient.identifier:versichertenId.period","path":"Patient.identifier.period","max":"0"},{"id":"Patient.identifier:versichertenId.assigner","path":"Patient.identifier.assigner","max":"0"},{"id":"Patient.identifier:versichertennummer_pkv","path":"Patient.identifier","sliceName":"versichertennummer_pkv","max":"0"},{"id":"Patient.identifier:reisepassnummer","path":"Patient.identifier","sliceName":"reisepassnummer","max":"0"},{"id":"Patient.identifier:versichertennummer_kvk","path":"Patient.identifier","sliceName":"versichertennummer_kvk","mustSupport":true},{"id":"Patient.identifier:versichertennummer_kvk.type","path":"Patient.identifier.type","mustSupport":true},{"id":"Patient.identifier:versichertennummer_kvk.type.coding","path":"Patient.identifier.type.coding","mustSupport":true},{"id":"Patient.identifier:versichertennummer_kvk.type.coding.system","path":"Patient.identifier.type.coding.system","mustSupport":true},{"id":"Patient.identifier:versichertennummer_kvk.type.coding.version","path":"Patient.identifier.type.coding.version","max":"0"},{"id":"Patient.identifier:versichertennummer_kvk.type.coding.code","path":"Patient.identifier.type.coding.code","mustSupport":true},{"id":"Patient.identifier:versichertennummer_kvk.type.coding.display","path":"Patient.identifier.type.coding.display","max":"0"},{"id":"Patient.identifier:versichertennummer_kvk.type.coding.userSelected","path":"Patient.identifier.type.coding.userSelected","max":"0"},{"id":"Patient.identifier:versichertennummer_kvk.type.text","path":"Patient.identifier.type.text","max":"0"},{"id":"Patient.identifier:versichertennummer_kvk.system","path":"Patient.identifier.system","mustSupport":true},{"id":"Patient.identifier:versichertennummer_kvk.value","path":"Patient.identifier.value","mustSupport":true},{"id":"Patient.identifier:versichertennummer_kvk.period","path":"Patient.identifier.period","max":"0"},{"id":"Patient.identifier:versichertennummer_kvk.assigner","path":"Patient.identifier.assigner","max":"0"},{"id":"Patient.active","path":"Patient.active","max":"0"},{"id":"Patient.name","path":"Patient.name","slicing":{"discriminator":[{"type":"value","path":"use"}],"rules":"closed"},"max":"1","mustSupport":true},{"id":"Patient.name:name","path":"Patient.name","sliceName":"name","min":1,"mustSupport":true},{"id":"Patient.name:name.use","path":"Patient.name.use","mustSupport":true},{"id":"Patient.name:name.text","path":"Patient.name.text","max":"0"},{"id":"Patient.name:name.family","path":"Patient.name.family","mustSupport":true},{"id":"Patient.name:name.family.extension","path":"Patient.name.family.extension","slicing":{"discriminator":[{"type":"value","path":"url"}],"rules":"closed"},"min":1,"max":"3"},{"id":"Patient.name:name.family.extension:namenszusatz","path":"Patient.name.family.extension","sliceName":"namenszusatz","mustSupport":true},{"id":"Patient.name:name.family.extension:namenszusatz.value[x]","path":"Patient.name.family.extension.value[x]","slicing":{"discriminator":[{"type":"type","path":"$this"}],"rules":"closed"},"min":1,"mustSupport":true},{"id":"Patient.name:name.family.extension:namenszusatz.value[x]:valueString","path":"Patient.name.family.extension.value[x]","sliceName":"valueString","maxLength":20,"mustSupport":true},{"id":"Patient.name:name.family.extension:nachname","path":"Patient.name.family.extension","sliceName":"nachname","min":1,"mustSupport":true},{"id":"Patient.name:name.family.extension:nachname.value[x]","path":"Patient.name.family.extension.value[x]","slicing":{"discriminator":[{"type":"type","path":"$this"}],"rules":"closed"},"mustSupport":true},{"id":"Patient.name:name.family.extension:nachname.value[x]:valueString","path":"Patient.name.family.extension.value[x]","sliceName":"valueString","maxLength":45,"mustSupport":true},{"id":"Patient.name:name.family.extension:vorsatzwort","path":"Patient.name.family.extension","sliceName":"vorsatzwort","mustSupport":true},{"id":"Patient.name:name.family.extension:vorsatzwort.value[x]","path":"Patient.name.family.extension.value[x]","slicing":{"discriminator":[{"type":"type","path":"$this"}],"rules":"closed"},"mustSupport":true},{"id":"Patient.name:name.family.extension:vorsatzwort.value[x]:valueString","path":"Patient.name.family.extension.value[x]","sliceName":"valueString","maxLength":20,"mustSupport":true},{"id":"Patient.name:name.given","path":"Patient.name.given","min":1,"maxLength":45,"mustSupport":true},{"id":"Patient.name:name.prefix","path":"Patient.name.prefix","max":"1","maxLength":20,"mustSupport":true},{"id":"Patient.name:name.prefix.extension","path":"Patient.name.prefix.extension","slicing":{"discriminator":[{"type":"value","path":"url"}],"rules":"closed"},"max":"1"},{"id":"Patient.name:name.prefix.extension:prefix-qualifier","path":"Patient.name.prefix.extension","sliceName":"prefix-qualifier","mustSupport":true},{"id":"Patient.name:name.prefix.extension:prefix-qualifier.value[x]","path":"Patient.name.prefix.extension.value[x]","slicing":{"discriminator":[{"type":"type","path":"$this"}],"rules":"closed"},"mustSupport":true},{"id":"Patient.name:name.prefix.extension:prefix-qualifier.value[x]:valueCode","path":"Patient.name.prefix.extension.value[x]","sliceName":"valueCode","mustSupport":true},{"id":"Patient.name:name.suffix","path":"Patient.name.suffix","max":"0"},{"id":"Patient.name:name.period","path":"Patient.name.period","max":"0"},{"id":"Patient.name:geburtsname","path":"Patient.name","sliceName":"geburtsname","max":"0"},{"id":"Patient.telecom","path":"Patient.telecom","max":"0"},{"id":"Patient.gender","path":"Patient.gender","max":"0"},{"id":"Patient.birthDate","path":"Patient.birthDate","mustSupport":true},{"id":"Patient.birthDate.extension","path":"Patient.birthDate.extension","slicing":{"discriminator":[{"type":"value","path":"url"}],"rules":"closed"},"max":"1"},{"id":"Patient.birthDate.extension:data-absent-reason","path":"Patient.birthDate.extension","sliceName":"data-absent-reason","mustSupport":true},{"id":"Patient.birthDate.extension:data-absent-reason.value[x]","path":"Patient.birthDate.extension.value[x]","slicing":{"discriminator":[{"type":"type","path":"$this"}],"rules":"closed"},"mustSupport":true},{"id":"Patient.birthDate.extension:data-absent-reason.value[x]:valueCode","path":"Patient.birthDate.extension.value[x]","sliceName":"valueCode","mustSupport":true},{"id":"Patient.deceased[x]","path":"Patient.deceased[x]","max":"0"},{"id":"Patient.address","path":"Patient.address","slicing":{"discriminator":[{"type":"value","path":"type"}],"rules":"closed"},"max":"1","mustSupport":true},{"id":"Patient.address:Strassenanschrift","path":"Patient.address","sliceName":"Strassenanschrift","max":"1","mustSupport":true},{"id":"Patient.address:Strassenanschrift.extension","path":"Patient.address.extension","slicing":{"discriminator":[{"type":"value","path":"url"}],"rules":"closed"},"max":"0"},{"id":"Patient.address:Strassenanschrift.extension:Stadtteil","path":"Patient.address.extension","sliceName":"Stadtteil","max":"0"},{"id":"Patient.address:Strassenanschrift.use","path":"Patient.address.use","max":"0"},{"id":"Patient.address:Strassenanschrift.type","path":"Patient.address.type","mustSupport":true},{"id":"Patient.address:Strassenanschrift.text","path":"Patient.address.text","max":"0"},{"id":"Patient.address:Strassenanschrift.line","path":"Patient.address.line","definition":"Diese Komponente kann Straßennamen, Hausnummer, Appartmentnummer, Postfach, c/o sowie weitere Zustellungshinweise enthalten. Die Informationen können in mehrere line-Komponenten aufgeteilt werden.\r\nBei Verwendung der Extensions, um Straße, Hausnnummer und Postleitzahl strukturiert zu übermitteln, müssen diese Informationen stets vollständig auch in der line-Komponente, die sie erweitern, enthalten sein, um es Systemen, die diese Extensions nicht verwenden zu ermöglichen, auf diese Informationen zugreifen zu können. Es wird empfohlen, dass die erste Zeile für Straße und Hausnummer und die zweite Zeile für den Zusatz verwendet wird.","max":"2","mustSupport":true},{"id":"Patient.address:Strassenanschrift.line.extension","path":"Patient.address.line.extension","slicing":{"discriminator":[{"type":"value","path":"url"}],"rules":"closed"},"max":"3"},{"id":"Patient.address:Strassenanschrift.line.extension:Strasse","path":"Patient.address.line.extension","sliceName":"Strasse","mustSupport":true},{"id":"Patient.address:Strassenanschrift.line.extension:Strasse.value[x]","path":"Patient.address.line.extension.value[x]","slicing":{"discriminator":[{"type":"type","path":"$this"}],"rules":"closed"},"mustSupport":true},{"id":"Patient.address:Strassenanschrift.line.extension:Strasse.value[x]:valueString","path":"Patient.address.line.extension.value[x]","sliceName":"valueString","maxLength":46,"mustSupport":true},{"id":"Patient.address:Strassenanschrift.line.extension:Hausnummer","path":"Patient.address.line.extension","sliceName":"Hausnummer","mustSupport":true},{"id":"Patient.address:Strassenanschrift.line.extension:Hausnummer.value[x]","path":"Patient.address.line.extension.value[x]","slicing":{"discriminator":[{"type":"type","path":"$this"}],"rules":"closed"},"mustSupport":true},{"id":"Patient.address:Strassenanschrift.line.extension:Hausnummer.value[x]:valueString","path":"Patient.address.line.extension.value[x]","sliceName":"valueString","maxLength":9,"mustSupport":true},{"id":"Patient.address:Strassenanschrift.line.extension:Adresszusatz","path":"Patient.address.line.extension","sliceName":"Adresszusatz","mustSupport":true},{"id":"Patient.address:Strassenanschrift.line.extension:Adresszusatz.value[x]","path":"Patient.address.line.extension.value[x]","slicing":{"discriminator":[{"type":"type","path":"$this"}],"rules":"closed"},"mustSupport":true},{"id":"Patient.address:Strassenanschrift.line.extension:Adresszusatz.value[x]:valueString","path":"Patient.address.line.extension.value[x]","sliceName":"valueString","maxLength":40,"mustSupport":true},{"id":"Patient.address:Strassenanschrift.city","path":"Patient.address.city","maxLength":40,"mustSupport":true},{"id":"Patient.address:Strassenanschrift.state","path":"Patient.address.state","max":"0"},{"id":"Patient.address:Strassenanschrift.postalCode","path":"Patient.address.postalCode","maxLength":10,"mustSupport":true},{"id":"Patient.address:Strassenanschrift.country","path":"Patient.address.country","constraint":[{"key":"-for-laengeWohnsitzlaendercode","severity":"error","human":"Der Wohnsitzlaendercode muss 1- bis 3-stellig sein und aus Großbuchstaben bestehen.","expression":"matches('^[A-Z]{1,3}$')"}],"mustSupport":true},{"id":"Patient.address:Strassenanschrift.period","path":"Patient.address.period","max":"0"},{"id":"Patient.address:Postfach","path":"Patient.address","sliceName":"Postfach","max":"1","mustSupport":true},{"id":"Patient.address:Postfach.extension","path":"Patient.address.extension","slicing":{"discriminator":[{"type":"value","path":"url"}],"rules":"closed"},"max":"0"},{"id":"Patient.address:Postfach.extension:Stadtteil","path":"Patient.address.extension","sliceName":"Stadtteil","max":"0"},{"id":"Patient.address:Postfach.use","path":"Patient.address.use","max":"0"},{"id":"Patient.address:Postfach.type","path":"Patient.address.type","mustSupport":true},{"id":"Patient.address:Postfach.text","path":"Patient.address.text","max":"0"},{"id":"Patient.address:Postfach.line","path":"Patient.address.line","max":"1","mustSupport":true},{"id":"Patient.address:Postfach.line.extension","path":"Patient.address.line.extension","slicing":{"discriminator":[{"type":"value","path":"url"}],"rules":"closed"},"min":1,"max":"1"},{"id":"Patient.address:Postfach.line.extension:Postfach","path":"Patient.address.line.extension","sliceName":"Postfach","min":1,"mustSupport":true},{"id":"Patient.address:Postfach.line.extension:Postfach.value[x]","path":"Patient.address.line.extension.value[x]","slicing":{"discriminator":[{"type":"type","path":"$this"}],"rules":"closed"},"mustSupport":true},{"id":"Patient.address:Postfach.line.extension:Postfach.value[x]:valueString","path":"Patient.address.line.extension.value[x]","sliceName":"valueString","maxLength":8,"mustSupport":true},{"id":"Patient.address:Postfach.city","path":"Patient.address.city","maxLength":40,"mustSupport":true},{"id":"Patient.address:Postfach.state","path":"Patient.address.state","max":"0"},{"id":"Patient.address:Postfach.postalCode","path":"Patient.address.postalCode","maxLength":10,"mustSupport":true},{"id":"Patient.address:Postfach.country","path":"Patient.address.country","constraint":[{"key":"-for-laengeWohnsitzlaendercode","severity":"error","human":"Der Wohnsitzlaendercode muss 1- bis 3-stellig sein und aus Großbuchstaben bestehen.","expression":"matches('^[A-Z]{1,3}$')"}],"mustSupport":true},{"id":"Patient.address:Postfach.period","path":"Patient.address.period","max":"0"},{"id":"Patient.maritalStatus","path":"Patient.maritalStatus","max":"0"},{"id":"Patient.multipleBirth[x]","path":"Patient.multipleBirth[x]","max":"0"},{"id":"Patient.photo","path":"Patient.photo","max":"0"},{"id":"Patient.contact","path":"Patient.contact","max":"0"},{"id":"Patient.communication","path":"Patient.communication","max":"0"},{"id":"Patient.generalPractitioner","path":"Patient.generalPractitioner","max":"0"},{"id":"Patient.managingOrganization","path":"Patient.managingOrganization","max":"0"},{"id":"Patient.link","path":"Patient.link","max":"0"}]}}